<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Zivo â€” Premium Footwear</title>
  <meta name="description" content="Zivo â€” Premium jooti & chappal. Shop online."/>
  <link rel="stylesheet" href="style.css"/>
  <link rel="preconnect" href="https://www.paypal.com"/>
</head>
<body>
<header>
  <div class="container nav">
    <div class="brand" style="cursor:pointer" onclick="navigate('home')">
      <div class="logo">Z</div>
      <div>
        <div style="font-size:14px;color:var(--muted);line-height:1">Premium Footwear</div>
        <div style="font-size:18px;letter-spacing:.6px">Zivo</div>
      </div>
    </div>
    <div class="nav-right">
      <button class="btn" onclick="navigate('shop')">Products</button>
      <button class="btn" onclick="navigate('contact')">Contact</button>
      <button class="btn brand" onclick="toggleCart()">ðŸ›’ Cart <span id="cart-count" class="pill" style="margin-left:8px">0</span></button>
    </div>
  </div>
</header>

<main class="container">
  <section id="home">
    <div class="hero">
      <div class="hero-card">
        <span class="tag">New Season â€¢ Flat 15% Off</span>
        <h1>Crafted Jooti & Chappal for Daily Comfort</h1>
        <p>Handâ€‘finished leather, breathable lining, and styles that go from desi wear to street casual. Trusted quality from Zivo.</p>
        <div class="nav-right">
          <button class="btn brand" onclick="navigate('shop')">Shop Now</button>
          <button class="btn" onclick="navigate('contact')">WhatsApp Us</button>
        </div>
      </div>
      <img class="card" src="images/product1.jpg" alt="Zivo hero">
    </div>

    <div class="section-title">
      <h2>Featured</h2>
      <a href="#shop" class="muted" onclick="navigate('shop')">View all â†’</a>
    </div>
    <div class="grid" id="featured"></div>
  </section>

  <section id="shop" style="display:none">
    <div class="section-title"><h2>All Products</h2></div>
    <div class="grid" id="grid"></div>
  </section>

  <section id="contact" style="display:none">
    <div class="card" style="padding:16px">
      <h2>Contact</h2>
      <p class="muted">For orders & bulk inquiries, message us.</p>
      <div class="nav-right">
        <button class="btn brand" onclick="whatsapp()">WhatsApp</button>
        <button class="btn" onclick="mailto()">Email</button>
      </div>
    </div>
  </section>
</main>

<footer class="footer container">
  <div class="nav-right" style="justify-content:space-between;flex-wrap:wrap;width:100%">
    <div>Â© <span id="year"></span> Zivo. All rights reserved.</div>
    <div class="muted">WhatsApp: +92â€‘300â€‘0000000 â€¢ Instagram: @zivo.official</div>
  </div>
</footer>

<!-- Cart sidebar -->
<aside id="cart" class="sidebar">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <h3>Your Cart</h3>
    <button class="btn" onclick="toggleCart()">Close</button>
  </div>
  <div id="cartItems" style="margin-top:10px"></div>
  <hr class="sep"/>
  <div id="cartTotals"></div>
  <div style="display:flex;gap:10px;margin-top:10px">
    <button class="btn" onclick="navigate('shop');toggleCart()">Continue Shopping</button>
    <button class="btn brand" onclick="checkout()">Checkout</button>
  </div>
  <div id="paypal-container" style="margin-top:12px"></div>
  <div class="notice" style="margin-top:10px">
    <b>JazzCash (Manual):</b> Click below to share order on WhatsApp. Full API integration needs a server.
    <div style="margin-top:8px">
      <button class="btn" onclick="jazzcash()">Pay with JazzCash (Manual)</button>
    </div>
  </div>
</aside>

<script>
const PRODUCTS = [
  {id:'p1', name:'Classic Leather Jooti',   price:25, img:'images/product1.jpg',  desc:'Handâ€‘stitched upper, soft lining, durable sole.'},
  {id:'p2', name:'Comfort Chappal',         price:18, img:'images/product2.jpg',  desc:'Everyday slipâ€‘on comfort with cushioned footbed.'},
  {id:'p3', name:'Heritage Khussa',         price:28, img:'images/product3.jpg',  desc:'Traditional pattern with modern comfort insole.'},
  {id:'p4', name:'Street Sandal',           price:22, img:'images/product4.jpg',  desc:'Breathable straps & antiâ€‘slip sole.'},
  {id:'p5', name:'Dual Strap Chappal',      price:20, img:'images/product5.jpg',  desc:'Adjustable straps, lightweight EVA midsole.'},
  {id:'p6', name:'Modern Style Jooti',      price:30, img:'images/product6.jpg',  desc:'Streamlined silhouette for formal & casual wear.'},
  {id:'p7', name:'Daily Wear Sandal',       price:21, img:'images/product7.jpg',  desc:'Cushioned footbed for allâ€‘day comfort.'},
  {id:'p8', name:'Premium Leather Jooti',   price:35, img:'images/product8.jpg',  desc:'Fullâ€‘grain leather, reinforced stitching.'},
  {id:'p9', name:'Casual Slip-On',          price:19, img:'images/product9.jpg',  desc:'Minimal design with easy on/off.'},
  {id:'p10',name:'Festive Embroidered Khussa',price:33,img:'images/product10.jpg',desc:'Delicate embroidery, festive look.'}
];

const $=s=>document.querySelector(s);
const $$=s=>document.querySelectorAll(s);
const money=n=>'$'+n.toFixed(2);
const cart = JSON.parse(localStorage.getItem('zivo_cart')||'[]');

function saveCart(){ localStorage.setItem('zivo_cart', JSON.stringify(cart)); updateCartCount(); }
function updateCartCount(){ $('#cart-count').textContent = cart.reduce((a,b)=>a+b.qty,0); }
function navigate(view){
  ['home','shop','contact'].forEach(v=>{ const el=$('#'+v); if(el) el.style.display='none'; });
  const el = $('#'+view); if(el) el.style.display='block';
  if(view==='shop') renderGrid();
}
function whatsapp(){
  const msg = encodeURIComponent('Hi Zivo, I want to place an order.');
  window.open('https://wa.me/923000000000?text='+msg,'_blank');
}
function mailto(){
  window.location='mailto:hello@zivo.example?subject=Zivo Inquiry';
}

function cardHTML(p){
  return `
  <div class="card">
    <img src="${p.img}" alt="${p.name}">
    <div class="card-body">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <h3 style="margin:0;font-size:18px">${p.name}</h3>
        <span class="tag">Zivo</span>
      </div>
      <p class="muted" style="margin:6px 0">${p.desc}</p>
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div class="price">${money(p.price)}</div>
        <button class="btn brand" onclick="addToCart('${p.id}')">Add to Cart</button>
      </div>
    </div>
  </div>`;
}

function renderFeatured(){
  $('#featured').innerHTML = PRODUCTS.slice(0,4).map(cardHTML).join('');
}
function renderGrid(){
  $('#grid').innerHTML = PRODUCTS.map(cardHTML).join('');
}

function addToCart(id){
  const p = PRODUCTS.find(x=>x.id===id);
  if(!p) return;
  const found = cart.find(x=>x.id===id);
  if(found) found.qty += 1; else cart.push({id, qty:1});
  saveCart(); toggleCart(true);
}

function toggleCart(forceOpen=false){
  const sb = $('#cart');
  if(forceOpen){ sb.classList.add('show'); renderCart(); return; }
  sb.classList.toggle('show'); renderCart();
}

function renderCart(){
  if(!cart.length){ $('#cartItems').innerHTML = '<div class="notice">Your cart is empty.</div>'; $('#cartTotals').innerHTML=''; $('#paypal-container').innerHTML=''; return; }
  let html = '';
  let total = 0;
  cart.forEach((it,idx)=>{
    const p = PRODUCTS.find(x=>x.id===it.id);
    const line = p.price * it.qty;
    total += line;
    html += `
      <div style="display:flex;gap:10px;align-items:center;margin:8px 0">
        <img src="${p.img}" style="width:60px;height:60px;object-fit:cover;border-radius:10px">
        <div style="flex:1">
          <div><b>${p.name}</b></div>
          <div class="muted">Qty ${it.qty} â€¢ ${money(p.price)}</div>
        </div>
        <div>${money(line)}</div>
        <button class="btn" onclick="removeItem(${idx})">Ã—</button>
      </div>`;
  });
  $('#cartItems').innerHTML = html;
  $('#cartTotals').innerHTML = `
    <div style="display:flex;justify-content:space-between"><span class="muted">Subtotal</span><span>${money(total)}</span></div>
    <div style="display:flex;justify-content:space-between"><span class="muted">Shipping</span><span>${total>60?'Free':'$5.00'}</span></div>
    <div style="display:flex;justify-content:space-between;font-weight:800"><span>Total</span><span>${money(total + (total>60?0:5))}</span></div>
  `;
}
function removeItem(i){ cart.splice(i,1); saveCart(); renderCart(); }

function checkout(){
  // render PayPal button
  const total = cart.reduce((s,it)=>s + (PRODUCTS.find(p=>p.id===it.id).price*it.qty),0) + (cart.length && total>60 ? 0 : (cart.length?5:0));
  // guard against NaN due to quick coding; recompute cleanly
  const sub = cart.reduce((s,it)=>s + (PRODUCTS.find(p=>p.id===it.id).price*it.qty),0);
  const grand = sub + (sub>60?0:5);
  if(window.paypal){
    $('#paypal-container').innerHTML='';
    paypal.Buttons({
      style:{layout:'horizontal',shape:'rect',label:'paypal'},
      createOrder: (data, actions)=> actions.order.create({purchase_units:[{amount:{value: grand.toFixed(2)}}]}),
      onApprove: async (data, actions)=>{
        const details = await actions.order.capture();
        alert('Payment successful! Order ID: '+details.id);
        cart.length = 0; saveCart(); renderCart(); updateCartCount(); toggleCart(false);
      },
      onError: (err)=>{ console.error(err); alert('PayPal error. Please try again.'); }
    }).render('#paypal-container');
  }else{
    alert('PayPal SDK not loaded.');
  }
}

function jazzcash(){
  if(!cart.length){ alert('Cart is empty'); return; }
  const order = cart.map(it=>{
    const p = PRODUCTS.find(x=>x.id===it.id);
    return {name:p.name, qty:it.qty, price:p.price};
  });
  const msg = encodeURIComponent('New JazzCash order for Zivo:%0A'+JSON.stringify(order,null,2));
  window.open('https://wa.me/923000000000?text='+msg,'_blank');
}

function init(){
  $('#year').textContent = new Date().getFullYear();
  renderFeatured(); renderGrid(); updateCartCount();
}
init();
</script>

<!-- PayPal SDK (Sandbox). Replace client-id=sb with your LIVE client-id later. -->
<script src="https://www.paypal.com/sdk/js?client-id=sb&currency=USD"></script>
</body>
</html>
